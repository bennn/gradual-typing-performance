% Created 2014-12-08 Mon 21:53
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{fixltx2e}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{float}
\usepackage{wrapfig}
\usepackage{soul}
\usepackage{textcomp}
\usepackage{marvosym}
\usepackage{wasysym}
\usepackage{latexsym}
\usepackage{amssymb}
\usepackage[colorlinks=true]{hyperref}
\tolerance=1000
\providecommand{\alert}[1]{\textbf{#1}}

\begin{document}

% \setcounter{tocdepth}{3}
% \tableofcontents
% \vspace*{1cm}

\section{Thoughts on the Gradual Typing Hypothesis}
\label{sec-1}
\subsection{Hypothesis}
\label{sec-1-1}
  \begin{quote}
    Code runs fine at the top and bottom of the gradual typing lattice.
    Along any path from fully-untyped to fully-typed, if you reach a point with unacceptable performance (>20\% worse) then there is a path up the lattice with acceptable performance (<20\% worse) that imposes an acceptable burden of adding types (\~{}10,000 sloc).
    Many paths from the bottom to the top of such a lattice are free from performance bottlenecks but a fair number of paths suffer from slowdowns of up to an order of magnitude.
  \end{quote}
\subsection{Racket/Typed Racket}
\label{sec-1-2}
\subsubsection{One plan of attack}
\label{sec-1-2-1}

\begin{itemize}
\item Find interesting, complete programs with comprehensive test suites.
\begin{itemize}
\item Can be fully typed or fully untyped.
\item i.e. \href{https://github.com/mfelleisen/Acquire}{Acquire}, \href{https://github.com/takikawa/tr-pfds}{PFDS}, Neil's math packages, Dr. Racket
\end{itemize}
\item Manually (for now) build module dependency graph
\item Manually (for now) implement the nodes of the gradual typing lattice.
    Add types, provides, requires, and anything else.
\begin{itemize}
\item Determine a way to organize lattice nodes. Could be separate folders or git branches.
\end{itemize}
\item Run a script that executes the tests in each lattice and records the results.
\end{itemize}
\subsubsection{Removing type annotations}
\label{sec-1-2-2}

\begin{itemize}
\item Possible to format all type annotations so that the following sed scripts hide all type annotations?
\begin{itemize}
\item \texttt{sed `s/(: /;(: /g'}
\item \texttt{sed `s/ :/; :/g'}
\end{itemize}
\item \texttt{struct:} and \texttt{lambda:} could also be replaced with \texttt{struct;:}, etc.
\end{itemize}
\subsection{Python/Reticulated}
\label{sec-1-3}

\begin{itemize}
\item Paper (version 3) \href{http://wphomes.soic.indiana.edu/jsiek/files/2014/08/retic-python-v3.pdf}{here}
\item Implementation \href{https://github.com/mvitousek/reticulated}{here}
\end{itemize}
\subsubsection{Which semantics?}
\label{sec-1-3-1}

\begin{itemize}
\item \emph{guarded} is (for now) unacceptable because it does not preserve Python's semantics
\item \emph{transient} is not comparable to the typed racket approach, but may be ok
\item \emph{monotonic} is probably best -- objects store a type with each field and program flows can increase precision of this type
\end{itemize}
\subsubsection{What is the lattice?}
\label{sec-1-3-2}

\begin{itemize}
\item We can add types at the function and class level, but now the lattice has many, many points.
    Can we manage this much larger lattice?
    Do we want to still use the Typed Racket module-level approach?
\end{itemize}

\end{document}